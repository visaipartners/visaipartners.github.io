var vip=angular.module("vip",["ngCookies"]);vip.factory("translations",["$http","$q",function(a,b){var c={en:{},cn:{},pt:{},es:{},it:{}};for(var d in c)c.hasOwnProperty(d)&&(angular.isUndefined(window.translations)?!function(b){c[b]=a.get("translation/"+b+".yml").then(function(a){return jsyaml.load(a.data)})}(d):!function(a,d){c[d]=b(function(b){b(a)})}(window.translations[d],d));return{getTranslations:function(a){return c.hasOwnProperty(a)?c[a]:void 0}}}]),vip.controller("MainCtrl",["$scope","translations","$cookies",function(a,b,c){if(a.translation={},!c.get("language")){var d;d=angular.isUndefined(window.navigator.languages)||angular.isUndefined(window.navigator.languages[0])?angular.isUndefined(window.navigator.language)?angular.isUndefined(window.navigator.userLanguage)?"en":window.navigator.userLanguage:window.navigator.language:window.navigator.languages[0],d=d.replace(/(.*)-.*/,"$1"),c.put("language",d)}a.lang=c.get("language"),a.langs=[{abr:"en",ext:"English",active:!1},{abr:"cn",ext:"简体中文",active:!1},{abr:"pt",ext:"Potuguês",active:!1},{abr:"es",ext:"Castellano",active:!1},{abr:"it",ext:"Italiano",active:!1}];var e=a.loadTranslation=function(d){b.getTranslations(d).then(function(b){a.translation=b});for(var e=0;e<a.langs.length;++e)a.langs[e].active=a.langs[e].abr===d;c.put("language",d)};e(a.lang),a.t=function(b){return a.translation.hasOwnProperty(b)&&!angular.isUndefined(a.translation[b])?a.translation[b]:b}}]),function(){function a(){d.removeChild(c),d.innerHTML="",d.appendChild(e),e.style.display="block",c.removeEventListener("error",a),delete c}function b(a){var b=a.target.currentTime,c=[document.getElementById("video-message-1"),document.getElementById("video-message-2"),document.getElementById("video-message-3")];1>b&&(c[2].style.display="none"),b>=1&&7>b&&(c[0].style.display="block"),b>=7&&12>b&&(c[0].style.display="none",c[1].style.display="block"),b>=12&&15>b&&(c[1].style.display="none",c[2].style.display="block"),b>=15&&(c[2].style.display="none")}var c=document.getElementById("video"),d=document.getElementById("video-section"),e=document.getElementById("video-ss");c.addEventListener("error",a,!0),c.addEventListener("timeupdate",b,!0)}();